CREATE TABLE IF NOT EXISTS "django_migrations" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" datetime NOT NULL);
CREATE TABLE sqlite_sequence(name,seq);
CREATE TABLE IF NOT EXISTS "django_content_type" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL);
CREATE UNIQUE INDEX "django_content_type_app_label_model_76bd3d3b_uniq" ON "django_content_type" ("app_label", "model");
CREATE TABLE IF NOT EXISTS "auth_group_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE UNIQUE INDEX "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" ON "auth_group_permissions" ("group_id", "permission_id");
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id");
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id");
CREATE TABLE IF NOT EXISTS "auth_permission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "content_type_id" integer NOT NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "codename" varchar(100) NOT NULL, "name" varchar(255) NOT NULL);
CREATE UNIQUE INDEX "auth_permission_content_type_id_codename_01ab375a_uniq" ON "auth_permission" ("content_type_id", "codename");
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id");
CREATE TABLE IF NOT EXISTS "auth_group" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(150) NOT NULL UNIQUE);
CREATE TABLE IF NOT EXISTS "rentals_department" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "description" text NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "state" varchar(100) NULL);
CREATE TABLE IF NOT EXISTS "rentals_user_groups" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "rentals_user" ("id") DEFERRABLE INITIALLY DEFERRED, "group_id" integer NOT NULL REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "rentals_user_user_permissions" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "user_id" bigint NOT NULL REFERENCES "rentals_user" ("id") DEFERRABLE INITIALLY DEFERRED, "permission_id" integer NOT NULL REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "rentals_discount" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "code" varchar(50) NOT NULL UNIQUE, "description" text NOT NULL, "discount_percentage" decimal NOT NULL, "start_date" date NOT NULL, "end_date" date NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "event_id_id" integer NOT NULL REFERENCES "rentals_event" ("id") DEFERRABLE INITIALLY DEFERRED, "state" varchar(100) NULL);
CREATE TABLE IF NOT EXISTS "rentals_accesscontrol" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "access_level" varchar(50) NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "user_id_id" bigint NOT NULL REFERENCES "rentals_user" ("id") DEFERRABLE INITIALLY DEFERRED, "event_id_id" integer NOT NULL REFERENCES "rentals_event" ("id") DEFERRABLE INITIALLY DEFERRED, "state" varchar(100) NULL);
CREATE TABLE IF NOT EXISTS "rentals_eventfeedback" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "rating" integer unsigned NOT NULL CHECK ("rating" >= 0), "comments" text NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "event_id_id" integer NOT NULL REFERENCES "rentals_event" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id_id" bigint NOT NULL REFERENCES "rentals_user" ("id") DEFERRABLE INITIALLY DEFERRED, "state" varchar(100) NULL);
CREATE TABLE IF NOT EXISTS "rentals_eventorganizer" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "role" varchar(50) NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "event_id_id" integer NOT NULL REFERENCES "rentals_event" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id_id" bigint NOT NULL REFERENCES "rentals_user" ("id") DEFERRABLE INITIALLY DEFERRED, "state" varchar(100) NULL);
CREATE TABLE IF NOT EXISTS "rentals_notification" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "message" text NOT NULL, "status" varchar(10) NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "user_id_id" bigint NOT NULL REFERENCES "rentals_user" ("id") DEFERRABLE INITIALLY DEFERRED, "state" varchar(100) NULL);
CREATE TABLE IF NOT EXISTS "rentals_report" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "report_type" varchar(50) NOT NULL, "data" text NOT NULL CHECK ((JSON_VALID("data") OR "data" IS NULL)), "generated_at" datetime NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "event_id_id" integer NOT NULL REFERENCES "rentals_event" ("id") DEFERRABLE INITIALLY DEFERRED, "state" varchar(100) NULL);
CREATE UNIQUE INDEX "rentals_user_groups_user_id_group_id_655195f8_uniq" ON "rentals_user_groups" ("user_id", "group_id");
CREATE INDEX "rentals_user_groups_user_id_4c3dc448" ON "rentals_user_groups" ("user_id");
CREATE INDEX "rentals_user_groups_group_id_558568a4" ON "rentals_user_groups" ("group_id");
CREATE UNIQUE INDEX "rentals_user_user_permissions_user_id_permission_id_1ef3d8c2_uniq" ON "rentals_user_user_permissions" ("user_id", "permission_id");
CREATE INDEX "rentals_user_user_permissions_user_id_893bad91" ON "rentals_user_user_permissions" ("user_id");
CREATE INDEX "rentals_user_user_permissions_permission_id_725d78d6" ON "rentals_user_user_permissions" ("permission_id");
CREATE INDEX "rentals_discount_event_id_id_6de1cdaf" ON "rentals_discount" ("event_id_id");
CREATE INDEX "rentals_accesscontrol_user_id_id_e0e0efca" ON "rentals_accesscontrol" ("user_id_id");
CREATE INDEX "rentals_accesscontrol_event_id_id_d953cfe3" ON "rentals_accesscontrol" ("event_id_id");
CREATE INDEX "rentals_eventfeedback_event_id_id_0e0a31be" ON "rentals_eventfeedback" ("event_id_id");
CREATE INDEX "rentals_eventfeedback_user_id_id_bd705794" ON "rentals_eventfeedback" ("user_id_id");
CREATE INDEX "rentals_eventorganizer_event_id_id_d3a9ba11" ON "rentals_eventorganizer" ("event_id_id");
CREATE INDEX "rentals_eventorganizer_user_id_id_f03534e6" ON "rentals_eventorganizer" ("user_id_id");
CREATE INDEX "rentals_notification_user_id_id_ef634353" ON "rentals_notification" ("user_id_id");
CREATE INDEX "rentals_report_event_id_id_2c178d59" ON "rentals_report" ("event_id_id");
CREATE TABLE IF NOT EXISTS "django_admin_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint unsigned NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id" bigint NOT NULL REFERENCES "rentals_user" ("id") DEFERRABLE INITIALLY DEFERRED, "action_time" datetime NOT NULL);
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id");
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id");
CREATE TABLE IF NOT EXISTS "authtoken_token" ("key" varchar(40) NOT NULL PRIMARY KEY, "created" datetime NOT NULL, "user_id" bigint NOT NULL UNIQUE REFERENCES "rentals_user" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "rentals_country" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "descrption" text NOT NULL, "state" varchar(100) NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL);
CREATE TABLE IF NOT EXISTS "rentals_activitylogs" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "state" varchar(100) NULL, "slug" varchar(100) NOT NULL, "log" text NOT NULL, "device" varchar(100) NOT NULL, "ip_address" varchar(100) NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "user_id_id" bigint NOT NULL REFERENCES "rentals_user" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE INDEX "rentals_activitylogs_user_id_id_4f307c9b" ON "rentals_activitylogs" ("user_id_id");
CREATE TABLE IF NOT EXISTS "rentals_booking" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "email" varchar(254) NOT NULL, "phone" varchar(15) NOT NULL, "paid_amount" decimal NOT NULL, "remaining_amount" decimal NOT NULL, "state" varchar(100) NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "event_id_id" integer NOT NULL REFERENCES "rentals_event" ("id") DEFERRABLE INITIALLY DEFERRED, "ticket_id_id" integer NOT NULL REFERENCES "rentals_ticket" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id_id" bigint NOT NULL REFERENCES "rentals_user" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE IF NOT EXISTS "rentals_departmentpermission" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "permissions" varchar(255) NOT NULL, "module" varchar(255) NOT NULL, "urls" varchar(255) NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "department_id_id" integer NOT NULL REFERENCES "rentals_department" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE INDEX "rentals_booking_event_id_id_eb80f0b4" ON "rentals_booking" ("event_id_id");
CREATE INDEX "rentals_booking_ticket_id_id_df7f8430" ON "rentals_booking" ("ticket_id_id");
CREATE INDEX "rentals_booking_user_id_id_6b22c6d5" ON "rentals_booking" ("user_id_id");
CREATE INDEX "rentals_departmentpermission_department_id_id_32a9d140" ON "rentals_departmentpermission" ("department_id_id");
CREATE TABLE IF NOT EXISTS "rentals_transaction" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "transaction_date" datetime NOT NULL, "payment_method" varchar(100) NOT NULL, "amount" decimal NOT NULL, "status" varchar(50) NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "ticket_id_id" integer NOT NULL REFERENCES "rentals_ticket" ("id") DEFERRABLE INITIALLY DEFERRED, "user_id_id" bigint NOT NULL REFERENCES "rentals_user" ("id") DEFERRABLE INITIALLY DEFERRED, "state" varchar(100) NULL, "reference_id" varchar(100) NOT NULL);
CREATE INDEX "rentals_transaction_ticket_id_id_fe7bb29b" ON "rentals_transaction" ("ticket_id_id");
CREATE INDEX "rentals_transaction_user_id_id_3af0bec5" ON "rentals_transaction" ("user_id_id");
CREATE TABLE IF NOT EXISTS "rentals_ticket" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "ticket_type" varchar(100) NOT NULL, "price" decimal NOT NULL, "quantity_available" integer NOT NULL, "quantity_sold" integer NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "event_id_id" integer NOT NULL REFERENCES "rentals_event" ("id") DEFERRABLE INITIALLY DEFERRED, "state" varchar(100) NULL, "name" varchar(100) NOT NULL);
CREATE INDEX "rentals_ticket_event_id_id_472750d7" ON "rentals_ticket" ("event_id_id");
CREATE TABLE IF NOT EXISTS "rentals_event" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "description" text NOT NULL, "start_date" date NOT NULL, "end_date" date NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "organizer_id_id" bigint NOT NULL REFERENCES "rentals_user" ("id") DEFERRABLE INITIALLY DEFERRED, "venue_id_id" integer NOT NULL REFERENCES "rentals_venue" ("id") DEFERRABLE INITIALLY DEFERRED, "state" varchar(100) NULL, "file" varchar(100) NULL);
CREATE INDEX "rentals_event_organizer_id_id_b43dfedc" ON "rentals_event" ("organizer_id_id");
CREATE INDEX "rentals_event_venue_id_id_75e2efa7" ON "rentals_event" ("venue_id_id");
CREATE TABLE IF NOT EXISTS "rentals_user" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "last_login" datetime NULL, "is_superuser" bool NOT NULL, "name" varchar(100) NULL, "email" varchar(254) NOT NULL UNIQUE, "password" varchar(100) NOT NULL, "phone_number" varchar(15) NULL, "role" varchar(10) NOT NULL, "created_at" datetime NULL, "updated_at" datetime NULL, "state" varchar(100) NULL, "username" varchar(100) NULL UNIQUE);
CREATE TABLE IF NOT EXISTS "rentals_venue" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(100) NOT NULL, "location" varchar(100) NOT NULL, "capacity" integer NOT NULL, "facilities" text NULL, "charge_rate" decimal NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "contact_name" varchar(100) NOT NULL, "contact_phone" varchar(15) NULL, "state" varchar(100) NULL, "description" text NULL, "file" varchar(100) NULL);
CREATE TABLE IF NOT EXISTS "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" datetime NOT NULL);
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date");
CREATE TABLE IF NOT EXISTS "paypal_ipn" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "business" varchar(127) NOT NULL, "charset" varchar(255) NOT NULL, "custom" varchar(256) NOT NULL, "notify_version" decimal NULL, "parent_txn_id" varchar(19) NOT NULL, "receiver_email" varchar(254) NOT NULL, "receiver_id" varchar(255) NOT NULL, "residence_country" varchar(2) NOT NULL, "test_ipn" bool NOT NULL, "txn_id" varchar(255) NOT NULL, "txn_type" varchar(255) NOT NULL, "verify_sign" varchar(255) NOT NULL, "address_country" varchar(64) NOT NULL, "address_city" varchar(40) NOT NULL, "address_country_code" varchar(64) NOT NULL, "address_name" varchar(128) NOT NULL, "address_state" varchar(40) NOT NULL, "address_status" varchar(255) NOT NULL, "address_street" varchar(200) NOT NULL, "address_zip" varchar(20) NOT NULL, "contact_phone" varchar(20) NOT NULL, "first_name" varchar(64) NOT NULL, "last_name" varchar(64) NOT NULL, "payer_business_name" varchar(127) NOT NULL, "payer_email" varchar(127) NOT NULL, "payer_id" varchar(13) NOT NULL, "auth_amount" decimal NULL, "auth_exp" varchar(28) NOT NULL, "auth_id" varchar(19) NOT NULL, "auth_status" varchar(255) NOT NULL, "exchange_rate" decimal NULL, "invoice" varchar(127) NOT NULL, "item_name" varchar(127) NOT NULL, "item_number" varchar(127) NOT NULL, "mc_currency" varchar(32) NOT NULL, "mc_fee" decimal NULL, "mc_gross" decimal NULL, "mc_handling" decimal NULL, "mc_shipping" decimal NULL, "memo" varchar(255) NOT NULL, "num_cart_items" integer NULL, "option_name1" varchar(64) NOT NULL, "option_name2" varchar(64) NOT NULL, "payer_status" varchar(255) NOT NULL, "payment_date" datetime NULL, "payment_gross" decimal NULL, "payment_status" varchar(255) NOT NULL, "payment_type" varchar(255) NOT NULL, "pending_reason" varchar(255) NOT NULL, "protection_eligibility" varchar(255) NOT NULL, "quantity" integer NULL, "reason_code" varchar(255) NOT NULL, "remaining_settle" decimal NULL, "settle_amount" decimal NULL, "settle_currency" varchar(32) NOT NULL, "shipping" decimal NULL, "shipping_method" varchar(255) NOT NULL, "tax" decimal NULL, "transaction_entity" varchar(255) NOT NULL, "auction_buyer_id" varchar(64) NOT NULL, "auction_closing_date" datetime NULL, "auction_multi_item" integer NULL, "for_auction" decimal NULL, "amount" decimal NULL, "amount_per_cycle" decimal NULL, "initial_payment_amount" decimal NULL, "next_payment_date" datetime NULL, "outstanding_balance" decimal NULL, "payment_cycle" varchar(255) NOT NULL, "period_type" varchar(255) NOT NULL, "product_name" varchar(255) NOT NULL, "product_type" varchar(255) NOT NULL, "profile_status" varchar(255) NOT NULL, "recurring_payment_id" varchar(255) NOT NULL, "rp_invoice_id" varchar(127) NOT NULL, "time_created" datetime NULL, "amount1" decimal NULL, "amount2" decimal NULL, "amount3" decimal NULL, "mc_amount1" decimal NULL, "mc_amount2" decimal NULL, "mc_amount3" decimal NULL, "password" varchar(24) NOT NULL, "period1" varchar(255) NOT NULL, "period2" varchar(255) NOT NULL, "period3" varchar(255) NOT NULL, "reattempt" varchar(1) NOT NULL, "recur_times" integer NULL, "recurring" varchar(1) NOT NULL, "retry_at" datetime NULL, "subscr_date" datetime NULL, "subscr_effective" datetime NULL, "subscr_id" varchar(19) NOT NULL, "username" varchar(64) NOT NULL, "case_creation_date" datetime NULL, "case_id" varchar(255) NOT NULL, "case_type" varchar(255) NOT NULL, "receipt_id" varchar(255) NOT NULL, "currency_code" varchar(32) NOT NULL, "handling_amount" decimal NULL, "transaction_subject" varchar(256) NOT NULL, "ipaddress" char(39) NULL, "flag" bool NOT NULL, "flag_code" varchar(16) NOT NULL, "flag_info" text NOT NULL, "query" text NOT NULL, "response" text NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "from_view" varchar(6) NULL, "mp_id" varchar(128) NULL, "option_selection1" varchar(200) NOT NULL, "option_selection2" varchar(200) NOT NULL);
CREATE INDEX "paypal_ipn_txn_id_8fa22c44" ON "paypal_ipn" ("txn_id");
CREATE TABLE IF NOT EXISTS "rentals_payment" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "tickets" integer NULL, "amount" decimal NOT NULL, "status" varchar(50) NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "user_id_id" bigint NOT NULL REFERENCES "rentals_user" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE INDEX "rentals_payment_user_id_id_6d0fc0a1" ON "rentals_payment" ("user_id_id");
